{"remainingRequest":"F:\\html\\123\\node_modules\\babel-loader\\lib\\index.js!F:\\html\\123\\node_modules\\eslint-loader\\index.js??ref--12-0!F:\\html\\123\\src\\components\\FollowEffect.js","dependencies":[{"path":"F:\\html\\123\\src\\components\\FollowEffect.js","mtime":1648086077307},{"path":"F:\\html\\123\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\html\\123\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\html\\123\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgVEhSRUUgZnJvbSAidGhyZWUiOwppbXBvcnQgUHJvdG9uIGZyb20gInRocmVlLnByb3Rvbi5qcyI7CmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvbGxvd0VmZmVjdCB7CiAgY29uc3RydWN0b3IoY29uZikgewogICAgdGhpcy5pbml0KGNvbmYpOwogIH0KCiAgaW5pdCh7CiAgICB0ZXh0dXJlLAogICAgY2FtZXJhLAogICAgcmVuZGVyZXIsCiAgICBzY2VuZQogIH0pIHsKICAgIGNvbnN0IHByb3RvbiA9IG5ldyBQcm90b24oKTsKICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkZvbGxvd0VtaXR0ZXIoKTsKICAgIGVtaXR0ZXIuZWFzZSA9IDE7CiAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUobmV3IFByb3Rvbi5TcGFuKDQsIDUpLCBuZXcgUHJvdG9uLlNwYW4oMC4wMSwgMC4wMikpOwogICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7CiAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5MaWZlKDAuNykpOwogICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uQm9keSh0aGlzLmNyZWF0ZVNwcml0ZSh0ZXh0dXJlKSkpOwogICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDIwKSk7CiAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WKDIwMCwgbmV3IFByb3Rvbi5WZWN0b3IzRCgwLCAwLCAtMSksIDE1KSk7CiAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKDAuOCwgMCkpOwogICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcigiIzRGMTUwMCIsICIjMDAyOUZGIikpOwogICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5TY2FsZSgxLCAwLjUpKTsKICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uU2NyZWVuWm9uZShjYW1lcmEsIHJlbmRlcmVyKSwgImRlYWQiKSk7IC8vZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Gb3JjZSgwLCAwLCAtMjApKTsKCiAgICBlbWl0dGVyLnNldENhbWVyYUFuZFJlbmRlcmVyKGNhbWVyYSwgcmVuZGVyZXIpOwogICAgZW1pdHRlci5lbWl0KCk7CiAgICBwcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTsKICAgIHByb3Rvbi5hZGRSZW5kZXIobmV3IFByb3Rvbi5TcHJpdGVSZW5kZXIoc2NlbmUpKTsKICAgIHRoaXMucHJvdG9uID0gcHJvdG9uOwogIH0KCiAgY3JlYXRlU3ByaXRlKHRleHR1cmUpIHsKICAgIGNvbnN0IG1hcCA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0ZXh0dXJlKTsKICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLlNwcml0ZU1hdGVyaWFsKHsKICAgICAgbWFwOiBtYXAsCiAgICAgIGNvbG9yOiAweGZmMDAwMCwKICAgICAgYmxlbmRpbmc6IFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsCiAgICAgIGZvZzogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gbmV3IFRIUkVFLlNwcml0ZShtYXRlcmlhbCk7CiAgfQoKICBhZGRUb1NjZW5lKHNjZW5lKSB7CiAgICBzY2VuZS5hZGQodGhpcy5wbGFuZSk7CiAgfQoKICByZW5kZXIoKSB7CiAgICBjb25zdCB7CiAgICAgIHByb3RvbgogICAgfSA9IHRoaXM7CiAgICBwcm90b24udXBkYXRlKCk7CiAgfQoKfQ=="},{"version":3,"sources":["F:/html/123/src/components/FollowEffect.js"],"names":["THREE","Proton","FollowEffect","constructor","conf","init","texture","camera","renderer","scene","proton","emitter","FollowEmitter","ease","rate","Rate","Span","addInitialize","Mass","Life","Body","createSprite","Radius","V","Vector3D","addBehaviour","Alpha","Color","Scale","CrossZone","ScreenZone","setCameraAndRenderer","emit","addEmitter","addRender","SpriteRender","map","TextureLoader","load","material","SpriteMaterial","color","blending","AdditiveBlending","fog","Sprite","addToScene","add","plane","render","update"],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\r\nimport Proton from \"three.proton.js\";\r\n\r\nexport default class FollowEffect {\r\n  constructor(conf) {\r\n    this.init(conf);\r\n  }\r\n\r\n  init({ texture, camera, renderer, scene }) {\r\n    const proton = new Proton();\r\n    const emitter = new Proton.FollowEmitter();\r\n    emitter.ease = 1;\r\n    emitter.rate = new Proton.Rate(\r\n      new Proton.Span(4, 5),\r\n      new Proton.Span(0.01, 0.02)\r\n    );\r\n    emitter.addInitialize(new Proton.Mass(1));\r\n    emitter.addInitialize(new Proton.Life(0.7));\r\n    emitter.addInitialize(new Proton.Body(this.createSprite(texture)));\r\n    emitter.addInitialize(new Proton.Radius(20));\r\n    emitter.addInitialize(new Proton.V(200, new Proton.Vector3D(0, 0, -1), 15));\r\n\r\n    emitter.addBehaviour(new Proton.Alpha(0.8, 0));\r\n    emitter.addBehaviour(new Proton.Color(\"#4F1500\", \"#0029FF\"));\r\n    emitter.addBehaviour(new Proton.Scale(1, 0.5));\r\n    emitter.addBehaviour(\r\n      new Proton.CrossZone(new Proton.ScreenZone(camera, renderer), \"dead\")\r\n    );\r\n\r\n    //emitter.addBehaviour(new Proton.Force(0, 0, -20));\r\n    emitter.setCameraAndRenderer(camera, renderer);\r\n\r\n    emitter.emit();\r\n\r\n    proton.addEmitter(emitter);\r\n    proton.addRender(new Proton.SpriteRender(scene));\r\n\r\n    this.proton = proton;\r\n  }\r\n\r\n  createSprite(texture) {\r\n    const map = new THREE.TextureLoader().load(texture);\r\n    const material = new THREE.SpriteMaterial({\r\n      map: map,\r\n      color: 0xff0000,\r\n      blending: THREE.AdditiveBlending,\r\n      fog: true\r\n    });\r\n    return new THREE.Sprite(material);\r\n  }\r\n\r\n  addToScene(scene) {\r\n    scene.add(this.plane);\r\n  }\r\n\r\n  render() {\r\n    const { proton } = this;\r\n    proton.update();\r\n  }\r\n}\r\n"]}]}