{"remainingRequest":"F:\\html\\123\\node_modules\\thread-loader\\dist\\cjs.js!F:\\html\\123\\node_modules\\babel-loader\\lib\\index.js!F:\\html\\123\\node_modules\\eslint-loader\\index.js??ref--12-0!F:\\html\\123\\src\\components\\Photo.js","dependencies":[{"path":"F:\\html\\123\\src\\components\\Photo.js","mtime":1648086077310},{"path":"F:\\html\\123\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\html\\123\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\html\\123\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\html\\123\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgVEhSRUUgZnJvbSAidGhyZWUiOwppbXBvcnQgcHBvIGZyb20gInBwbyI7CmltcG9ydCBnc2FwIGZyb20gImdzYXAiOwppbXBvcnQgeEVtaWl0ZXIgZnJvbSAieGVtaXR0ZXJqcyI7CmltcG9ydCB7IE1vZGlmaWVyU3RhY2ssIFR3aXN0LCBOb2lzZSwgQmVuZCwgVXNlckRlZmluZWQsIFZlY3RvcjMsIE1vZENvbnN0YW50IH0gZnJvbSAidGhyZWUubW9kaWZpZXJzIjsKZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGhvdG8gewogIGNvbnN0cnVjdG9yKHRleHR1cmUpIHsKICAgIHRoaXMuaW5pdCh0ZXh0dXJlKTsKICB9CgogIGluaXQodGV4dHVyZSkgewogICAgdGhpcy53aWR0aCA9IDEwMDMgLyAxOwogICAgdGhpcy5oZWlnaHQgPSA1NjQgLyAxOwogICAgY29uc3QgbWFwID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRleHR1cmUpOwogICAgY29uc3QgZGlzcGxheSA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAxMiwgMTIsIHRydWUpLCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoewogICAgICBtYXAsCiAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGUKICAgIH0pKTsKICAgIHRoaXMuYWRkTW9kaWZpZXIoZGlzcGxheSk7CiAgICB0aGlzLmRpc3BsYXkgPSBkaXNwbGF5OwogICAgeEVtaWl0ZXIub24oIk1FTlVfQ0xJQ0siLCB0aGlzLmNoYW5nZU1vZGlmaWVyLmJpbmQodGhpcykpOwogIH0KCiAgc2hvdygpIHsKICAgIGNvbnN0IHsKICAgICAgZGlzcGxheQogICAgfSA9IHRoaXM7CiAgICBjb25zdCBiYXNlID0gewogICAgICBkdXJhdGlvbjogMC43LAogICAgICBlYXNlOiAiYmFjay5vdXQiCiAgICB9OwogICAgZ3NhcC50byhkaXNwbGF5LnNjYWxlLCB7CiAgICAgIHg6IDEsCiAgICAgIHk6IDEsCiAgICAgIC4uLmJhc2UKICAgIH0pOwogICAgZ3NhcC50byhkaXNwbGF5LnBvc2l0aW9uLCB7CiAgICAgIHg6IGRpc3BsYXkudG8ueCwKICAgICAgeTogZGlzcGxheS50by55LAogICAgICB6OiBkaXNwbGF5LnRvLnosCiAgICAgIC4uLmJhc2UKICAgIH0pOwogICAgdGhpcy5hbmltYXRlTW9kaWZpZXIoYmFzZSk7CiAgfQoKICBoaWRlKCkgewogICAgY29uc3QgewogICAgICBkaXNwbGF5CiAgICB9ID0gdGhpczsKICAgIGNvbnN0IGJhc2UgPSB7CiAgICAgIGR1cmF0aW9uOiAwLjYsCiAgICAgIGVhc2U6ICJiYWNrLm91dCIKICAgIH07CiAgICBnc2FwLnRvKGRpc3BsYXkuc2NhbGUsIHsKICAgICAgeDogZGlzcGxheS5mcm9tU2NhbGUsCiAgICAgIHk6IGRpc3BsYXkuZnJvbVNjYWxlLAogICAgICAuLi5iYXNlCiAgICB9KTsKICAgIGdzYXAudG8oZGlzcGxheS5wb3NpdGlvbiwgewogICAgICB4OiBkaXNwbGF5LmZyb20ueCwKICAgICAgeTogZGlzcGxheS5mcm9tLnksCiAgICAgIHo6IGRpc3BsYXkuZnJvbS56LAogICAgICAuLi5iYXNlCiAgICB9KTsKICB9CgogIGFkZE1vZGlmaWVyKG1lc2gpIHsKICAgIGNvbnN0IG1vZGlmaWVyID0gbmV3IE1vZGlmaWVyU3RhY2sobWVzaCk7CiAgICB0aGlzLm1vZGlmaWVyID0gbW9kaWZpZXI7CiAgICB0aGlzLmNoYW5nZU1vZGlmaWVyKCJUd2lzdCIpOwogIH0KCiAgY2hhbmdlTW9kaWZpZXIodHlwZSkgewogICAgY29uc3QgewogICAgICBtb2RpZmllciwKICAgICAgY3VycmVudE1vZGlmaWVyCiAgICB9ID0gdGhpczsKICAgIG1vZGlmaWVyLnJlbW92ZU1vZGlmaWVyKGN1cnJlbnRNb2RpZmllcik7CiAgICBtb2RpZmllci5yZXNldCgpOwogICAgdGhpcy50eXBlID0gdHlwZTsKCiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAiVHdpc3QiOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IHR3aXN0ID0gbmV3IFR3aXN0KDIpOwogICAgICAgICAgdHdpc3QudmVjdG9yID0gbmV3IFZlY3RvcjMoMCwgMSwgMCk7CiAgICAgICAgICB0aGlzLmN1cnJlbnRNb2RpZmllciA9IHR3aXN0OwogICAgICAgICAgbW9kaWZpZXIuYWRkTW9kaWZpZXIodHdpc3QpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAiTm9pc2UiOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IG5vaXNlID0gbmV3IE5vaXNlKDApOwogICAgICAgICAgbm9pc2UuZnJjID0gMTU7CiAgICAgICAgICB0aGlzLmN1cnJlbnRNb2RpZmllciA9IG5vaXNlOwogICAgICAgICAgbW9kaWZpZXIuYWRkTW9kaWZpZXIobm9pc2UpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAiQmVuZCI6CiAgICAgICAgewogICAgICAgICAgY29uc3QgYmVuZCA9IG5ldyBCZW5kKDEuMiwgMC4zLCAxKTsKICAgICAgICAgIGJlbmQuY29uc3RyYWludCA9IE1vZENvbnN0YW50LkxFRlQ7CiAgICAgICAgICB0aGlzLmN1cnJlbnRNb2RpZmllciA9IGJlbmQ7CiAgICAgICAgICBtb2RpZmllci5hZGRNb2RpZmllcihiZW5kKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgIkN1c3RvbSI6CiAgICAgICAgewogICAgICAgICAgY29uc3QgdXNlckRlZmluZWQgPSBuZXcgVXNlckRlZmluZWQoKTsKICAgICAgICAgIHVzZXJEZWZpbmVkLmFuZ2xlID0gMDsKCiAgICAgICAgICB1c2VyRGVmaW5lZC5yZW5kZXJWZWN0b3IgPSAodmVjLCBpLCBsKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICBhbmdsZQogICAgICAgICAgICB9ID0gdXNlckRlZmluZWQ7CiAgICAgICAgICAgIGxldCBzY2FsZSA9IE1hdGguYWJzKGwgLyAyIC0gaSkgLyAobCAvIDIpOwogICAgICAgICAgICBzY2FsZSA9IGkgJSA0ID09PSAwID8gc2NhbGUgKiAtMC42IDogc2NhbGU7CiAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGUsIDEpOwogICAgICAgICAgICBjb25zdCByID0gMTUwOwogICAgICAgICAgICB2ZWMueCArPSByICogTWF0aC5zaW4oYW5nbGUpICogc2NhbGU7CiAgICAgICAgICAgIHZlYy55ICs9IHIgKiBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkgLyAyKSAqIHNjYWxlOwogICAgICAgICAgfTsKCiAgICAgICAgICB0aGlzLmN1cnJlbnRNb2RpZmllciA9IHVzZXJEZWZpbmVkOwogICAgICAgICAgbW9kaWZpZXIuYWRkTW9kaWZpZXIodXNlckRlZmluZWQpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIGFuaW1hdGVNb2RpZmllcihiYXNlKSB7CiAgICBjb25zdCB7CiAgICAgIG1vZGlmaWVyLAogICAgICBjdXJyZW50TW9kaWZpZXIsCiAgICAgIHR5cGUKICAgIH0gPSB0aGlzOwoKICAgIHN3aXRjaCAodHlwZSkgewogICAgICBjYXNlICJUd2lzdCI6CiAgICAgICAgewogICAgICAgICAgZ3NhcC5mcm9tVG8oY3VycmVudE1vZGlmaWVyLCB7CiAgICAgICAgICAgIGFuZ2xlOiBwcG8ucmFuZG9tQTJCKC0yLCAtMC41KSAqIE1hdGguUEkKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgYW5nbGU6IDAsCiAgICAgICAgICAgIC4uLmJhc2UsCiAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiBtb2RpZmllci5hcHBseSgpCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgIk5vaXNlIjoKICAgICAgICB7CiAgICAgICAgICBnc2FwLmZyb21UbyhjdXJyZW50TW9kaWZpZXIsIHsKICAgICAgICAgICAgZnJjOiAyMDAKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZnJjOiAwLAogICAgICAgICAgICAuLi5iYXNlLAogICAgICAgICAgICBvblVwZGF0ZTogKCkgPT4gbW9kaWZpZXIuYXBwbHkoKQogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICJCZW5kIjoKICAgICAgICB7CiAgICAgICAgICBnc2FwLmZyb21UbyhjdXJyZW50TW9kaWZpZXIsIHsKICAgICAgICAgICAgZm9yY2U6IDYsCiAgICAgICAgICAgIGFuZ2xlOiAwCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGZvcmNlOiAwLAogICAgICAgICAgICBhbmdsZTogMiwKICAgICAgICAgICAgLi4uYmFzZSwKICAgICAgICAgICAgZWFzZTogImN1YmljLm91dCIsCiAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiBtb2RpZmllci5hcHBseSgpCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgIkN1c3RvbSI6CiAgICAgICAgewogICAgICAgICAgZ3NhcC5mcm9tVG8oY3VycmVudE1vZGlmaWVyLCB7CiAgICAgICAgICAgIGFuZ2xlOiBNYXRoLlBJCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGFuZ2xlOiAwLAogICAgICAgICAgICAuLi5iYXNlLAogICAgICAgICAgICBlYXNlOiAiY3ViaWMub3V0IiwKICAgICAgICAgICAgb25VcGRhdGU6ICgpID0+IG1vZGlmaWVyLmFwcGx5KCkKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIGFkZFRvU2NlbmUoc2NlbmUpIHsKICAgIHNjZW5lLmFkZCh0aGlzLmRpc3BsYXkpOwogIH0KCn0="},{"version":3,"sources":["F:/html/123/src/components/Photo.js"],"names":["THREE","ppo","gsap","xEmiiter","ModifierStack","Twist","Noise","Bend","UserDefined","Vector3","ModConstant","Photo","constructor","texture","init","width","height","map","TextureLoader","load","display","Mesh","PlaneGeometry","MeshBasicMaterial","side","DoubleSide","addModifier","on","changeModifier","bind","show","base","duration","ease","to","scale","x","y","position","z","animateModifier","hide","fromScale","from","mesh","modifier","type","currentModifier","removeModifier","reset","twist","vector","noise","frc","bend","constraint","LEFT","userDefined","angle","renderVector","vec","i","l","Math","abs","min","r","sin","cos","PI","fromTo","randomA2B","onUpdate","apply","force","addToScene","scene","add"],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\r\nimport ppo from \"ppo\";\r\nimport gsap from \"gsap\";\r\nimport xEmiiter from \"xemitterjs\";\r\nimport {\r\n  ModifierStack,\r\n  Twist,\r\n  Noise,\r\n  Bend,\r\n  UserDefined,\r\n  Vector3,\r\n  ModConstant\r\n} from \"three.modifiers\";\r\n\r\nexport default class Photo {\r\n  constructor(texture) {\r\n    this.init(texture);\r\n  }\r\n\r\n  init(texture) {\r\n    this.width = 1003 / 1;\r\n    this.height = 564 / 1;\r\n\r\n    const map = new THREE.TextureLoader().load(texture);\r\n    const display = new THREE.Mesh(\r\n      new THREE.PlaneGeometry(this.width, this.height, 12, 12, true),\r\n      new THREE.MeshBasicMaterial({ map, side: THREE.DoubleSide })\r\n    );\r\n\r\n    this.addModifier(display);\r\n    this.display = display;\r\n    xEmiiter.on(\"MENU_CLICK\", this.changeModifier.bind(this));\r\n  }\r\n\r\n  show() {\r\n    const { display } = this;\r\n\r\n    const base = { duration: 0.7, ease: \"back.out\" };\r\n    gsap.to(display.scale, {\r\n      x: 1,\r\n      y: 1,\r\n      ...base\r\n    });\r\n\r\n    gsap.to(display.position, {\r\n      x: display.to.x,\r\n      y: display.to.y,\r\n      z: display.to.z,\r\n      ...base\r\n    });\r\n\r\n    this.animateModifier(base);\r\n  }\r\n\r\n  hide() {\r\n    const { display } = this;\r\n\r\n    const base = { duration: 0.6, ease: \"back.out\" };\r\n    gsap.to(display.scale, {\r\n      x: display.fromScale,\r\n      y: display.fromScale,\r\n      ...base\r\n    });\r\n\r\n    gsap.to(display.position, {\r\n      x: display.from.x,\r\n      y: display.from.y,\r\n      z: display.from.z,\r\n      ...base\r\n    });\r\n  }\r\n\r\n  addModifier(mesh) {\r\n    const modifier = new ModifierStack(mesh);\r\n    this.modifier = modifier;\r\n    this.changeModifier(\"Twist\");\r\n  }\r\n\r\n  changeModifier(type) {\r\n    const { modifier, currentModifier } = this;\r\n    modifier.removeModifier(currentModifier);\r\n    modifier.reset();\r\n    this.type = type;\r\n\r\n    switch (type) {\r\n      case \"Twist\": {\r\n        const twist = new Twist(2);\r\n        twist.vector = new Vector3(0, 1, 0);\r\n        this.currentModifier = twist;\r\n        modifier.addModifier(twist);\r\n        break;\r\n      }\r\n\r\n      case \"Noise\": {\r\n        const noise = new Noise(0);\r\n        noise.frc = 15;\r\n        this.currentModifier = noise;\r\n        modifier.addModifier(noise);\r\n        break;\r\n      }\r\n\r\n      case \"Bend\": {\r\n        const bend = new Bend(1.2, 0.3, 1);\r\n        bend.constraint = ModConstant.LEFT;\r\n        this.currentModifier = bend;\r\n        modifier.addModifier(bend);\r\n        break;\r\n      }\r\n\r\n      case \"Custom\": {\r\n        const userDefined = new UserDefined();\r\n        userDefined.angle = 0;\r\n        userDefined.renderVector = (vec, i, l) => {\r\n          const { angle } = userDefined;\r\n          let scale = Math.abs(l / 2 - i) / (l / 2);\r\n          scale = i % 4 === 0 ? scale * -0.6 : scale;\r\n          scale = Math.min(scale, 1);\r\n          const r = 150;\r\n\r\n          vec.x += r * Math.sin(angle) * scale;\r\n          vec.y += r * Math.cos(angle + Math.PI / 2) * scale;\r\n        };\r\n        this.currentModifier = userDefined;\r\n        modifier.addModifier(userDefined);\r\n        break;\r\n      }\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  animateModifier(base) {\r\n    const { modifier, currentModifier, type } = this;\r\n    switch (type) {\r\n      case \"Twist\": {\r\n        gsap.fromTo(\r\n          currentModifier,\r\n          { angle: ppo.randomA2B(-2, -0.5) * Math.PI },\r\n          {\r\n            angle: 0,\r\n            ...base,\r\n            onUpdate: () => modifier.apply()\r\n          }\r\n        );\r\n        break;\r\n      }\r\n\r\n      case \"Noise\": {\r\n        gsap.fromTo(\r\n          currentModifier,\r\n          { frc: 200 },\r\n          {\r\n            frc: 0,\r\n            ...base,\r\n            onUpdate: () => modifier.apply()\r\n          }\r\n        );\r\n        break;\r\n      }\r\n\r\n      case \"Bend\": {\r\n        gsap.fromTo(\r\n          currentModifier,\r\n          {\r\n            force: 6,\r\n            angle: 0\r\n          },\r\n          {\r\n            force: 0,\r\n            angle: 2,\r\n            ...base,\r\n            ease: \"cubic.out\",\r\n            onUpdate: () => modifier.apply()\r\n          }\r\n        );\r\n        break;\r\n      }\r\n\r\n      case \"Custom\": {\r\n        gsap.fromTo(\r\n          currentModifier,\r\n          { angle: Math.PI },\r\n          {\r\n            angle: 0,\r\n            ...base,\r\n            ease: \"cubic.out\",\r\n            onUpdate: () => modifier.apply()\r\n          }\r\n        );\r\n        break;\r\n      }\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  addToScene(scene) {\r\n    scene.add(this.display);\r\n  }\r\n}\r\n"]}]}