{"remainingRequest":"F:\\html\\123\\node_modules\\babel-loader\\lib\\index.js!F:\\html\\123\\node_modules\\eslint-loader\\index.js??ref--12-0!F:\\html\\123\\src\\components\\Album.js","dependencies":[{"path":"F:\\html\\123\\src\\components\\Album.js","mtime":1648087294940},{"path":"F:\\html\\123\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\html\\123\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\html\\123\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHBwbyBmcm9tICJwcG8iOwppbXBvcnQgKiBhcyBUSFJFRSBmcm9tICJ0aHJlZSI7CmltcG9ydCBQaG90byBmcm9tICIuL1Bob3RvIjsKaW1wb3J0IHhFbWlpdGVyIGZyb20gInhlbWl0dGVyanMiOwppbXBvcnQgVEhSRUVVdGlscyBmcm9tICIuLi91dGlscy9USFJFRVV0aWxzIjsKaW1wb3J0IGltZzAxIGZyb20gIi4uL2Fzc2V0cy8wMS5qcGciOwppbXBvcnQgaW1nMDIgZnJvbSAiLi4vYXNzZXRzLzAyLmpwZyI7CmltcG9ydCBpbWcwMyBmcm9tICIuLi9hc3NldHMvMDMuanBnIjsKaW1wb3J0IGltZzA0IGZyb20gIi4uL2Fzc2V0cy8wNC5qcGciOwppbXBvcnQgaW1nMDUgZnJvbSAiLi4vYXNzZXRzLzA1LmpwZyI7CmltcG9ydCBpbWcwNiBmcm9tICIuLi9hc3NldHMvMDYuanBnIjsKY29uc3QgSU1HUyA9IFtpbWcwMSwgaW1nMDIsIGltZzAzLCBpbWcwNCwgaW1nMDUsIGltZzA2XTsKZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxidW0gewogIGNvbnN0cnVjdG9yKGNvbmYpIHsKICAgIHRoaXMuaW5pdChjb25mKTsKICAgIHRoaXMuYWRkTGlzdGVuZXIoKTsKICB9CgogIGluaXQoewogICAgY2FtZXJhLAogICAgcmVuZGVyZXIKICB9KSB7CiAgICBjb25zdCBkaXNwbGF5ID0gbmV3IFRIUkVFLkdyb3VwKCk7CiAgICBjb25zdCBzY2FsZSA9IDAuMjU7CiAgICBjb25zdCBsZW4gPSA2OwogICAgY29uc3QgbGlzdCA9IFtdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgIGNvbnN0IHBob3RvID0gbmV3IFBob3RvKElNR1NbaV0pOwogICAgICBjb25zdCBwb3MgPSBUSFJFRVV0aWxzLmdldFJlYWxTaXplUG9zKHsKICAgICAgICBjYW1lcmEsCiAgICAgICAgcmVuZGVyZXIKICAgICAgfSk7CiAgICAgIGNvbnN0IGQgPSAxODsKICAgICAgY29uc3QgdyA9IHBob3RvLndpZHRoICogc2NhbGUgKyBkOwogICAgICBjb25zdCBoID0gcGhvdG8uaGVpZ2h0ICogc2NhbGUgKyAxLjYgKiBkOwogICAgICBwaG90by5kaXNwbGF5LnBvc2l0aW9uLnggPSAtdyArIGkgJSAobGVuIC8gMikgKiB3OwogICAgICBwaG90by5kaXNwbGF5LnBvc2l0aW9uLnkgPSBoIC8gMiAtIHBwby5mbG9vcihpIC8gKGxlbiAvIDIpLCAwKSAqIGg7CiAgICAgIHBob3RvLmRpc3BsYXkucG9zaXRpb24ueiA9IHBvcyAtIDIwMDsKICAgICAgcGhvdG8uZGlzcGxheS5mcm9tID0gcGhvdG8uZGlzcGxheS5wb3NpdGlvbi5jbG9uZSgpOwogICAgICBwaG90by5kaXNwbGF5LnRvID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgcG9zKTsKICAgICAgcGhvdG8uZGlzcGxheS5mcm9tU2NhbGUgPSBzY2FsZTsKICAgICAgVEhSRUVVdGlscy5zY2FsZShwaG90by5kaXNwbGF5LCBzY2FsZSk7CiAgICAgIGRpc3BsYXkuYWRkKHBob3RvLmRpc3BsYXkpOwogICAgICBsaXN0LnB1c2gocGhvdG8pOwogICAgfQoKICAgIHRoaXMubGlzdCA9IGxpc3Q7CiAgICB0aGlzLmRpc3BsYXkgPSBkaXNwbGF5OwogIH0KCiAgYWRkTGlzdGVuZXIoKSB7CiAgICBjb25zdCB7CiAgICAgIGxpc3QKICAgIH0gPSB0aGlzOwogICAgeEVtaWl0ZXIub24oIkNMSUNLIiwgZGlzcGxheSA9PiB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHBob3RvID0gbGlzdFtpXTsKCiAgICAgICAgaWYgKHBob3RvLmRpc3BsYXkgPT09IGRpc3BsYXkpIHsKICAgICAgICAgIGlmIChkaXNwbGF5LnNob3cpIHsKICAgICAgICAgICAgcGhvdG8uc2hvdygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGhvdG8uaGlkZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQoKICBhZGRUb1NjZW5lKHNjZW5lKSB7CiAgICBzY2VuZS5hZGQodGhpcy5kaXNwbGF5KTsKICB9CgogIHJlbmRlcigpIHsvL21vZGlmaWVyLmFwcGx5KCk7CiAgfQoKfQ=="},{"version":3,"sources":["F:/html/123/src/components/Album.js"],"names":["ppo","THREE","Photo","xEmiiter","THREEUtils","img01","img02","img03","img04","img05","img06","IMGS","Album","constructor","conf","init","addListener","camera","renderer","display","Group","scale","len","list","i","photo","pos","getRealSizePos","d","w","width","h","height","position","x","y","floor","z","from","clone","to","Vector3","fromScale","add","push","on","length","show","hide","addToScene","scene","render"],"mappings":"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","sourcesContent":["import ppo from \"ppo\";\r\nimport * as THREE from \"three\";\r\nimport Photo from \"./Photo\";\r\nimport xEmiiter from \"xemitterjs\";\r\nimport THREEUtils from \"../utils/THREEUtils\";\r\n\r\nimport img01 from \"../assets/01.jpg\";\r\nimport img02 from \"../assets/02.jpg\";\r\nimport img03 from \"../assets/03.jpg\";\r\nimport img04 from \"../assets/04.jpg\";\r\nimport img05 from \"../assets/05.jpg\";\r\nimport img06 from \"../assets/06.jpg\";\r\n\r\nconst IMGS = [img01, img02, img03, img04, img05, img06];\r\n\r\nexport default class Album {\r\n  constructor(conf) {\r\n    this.init(conf);\r\n    this.addListener();\r\n  }\r\n\r\n  init({ camera, renderer }) {\r\n    const display = new THREE.Group();\r\n    const scale = 0.25;\r\n    const len = 6;\r\n    const list = [];\r\n\r\n    for (let i = 0; i < len; i++) {\r\n      // eslint-disable-next-line\r\n      const photo = new Photo(IMGS[i]);\r\n      const pos = THREEUtils.getRealSizePos({ camera, renderer });\r\n      const d = 18;\r\n      const w = photo.width * scale + d;\r\n      const h = photo.height * scale + 1.6 * d;\r\n\r\n      photo.display.position.x = -w + (i % (len / 2)) * w;\r\n      photo.display.position.y = h / 2 - ppo.floor(i / (len / 2), 0) * h;\r\n      photo.display.position.z = pos - 200;\r\n      photo.display.from = photo.display.position.clone();\r\n      photo.display.to = new THREE.Vector3(0, 0, pos);\r\n      photo.display.fromScale = scale;\r\n\r\n      THREEUtils.scale(photo.display, scale);\r\n      display.add(photo.display);\r\n\r\n      list.push(photo);\r\n    }\r\n\r\n    this.list = list;\r\n    this.display = display;\r\n  }\r\n\r\n  addListener() {\r\n    const { list } = this;\r\n\r\n    xEmiiter.on(\"CLICK\", (display) => {\r\n      for (let i = 0; i < list.length; i++) {\r\n        const photo = list[i];\r\n        if (photo.display === display) {\r\n          if (display.show) {\r\n            photo.show();\r\n          } else {\r\n            photo.hide();\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  addToScene(scene) {\r\n    scene.add(this.display);\r\n  }\r\n\r\n  render() {\r\n    //modifier.apply();\r\n  }\r\n}\r\n"]}]}